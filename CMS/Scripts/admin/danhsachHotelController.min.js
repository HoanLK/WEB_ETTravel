myApp.controller("danhsachHotelController",function(n,t,i){n.Hotels=[];n.gridOptions={};n.Hotel={};t.get("/Hotels/GetAllHotelsNoChecked/").success(function(t){n.gridOptions.data=t});n.gridOptions.rowHeight=50;n.gridOptions.columnDefs=[{displayName:"STT",name:"stt",enableCellEdit:!1,enableSorting:!1,enableFiltering:!1,width:55,cellTemplate:'<div class="ui-grid-cell-contents text-center">{{grid.renderContainers.body.visibleRowCache.indexOf(row)+1}}<\/div>'},{displayName:"ID",name:"idHotel",enableSorting:!1,width:60},{displayName:"Họ tên",name:"hoTen",enableSorting:!1},{displayName:"Địa chỉ",name:"diaChi",enableSorting:!1},{displayName:"SĐT",name:"SDT",enableSorting:!1},{displayName:"Email",name:"tour",enableSorting:!1},{displayName:"Ngày đến",name:"timeStart",enableSorting:!1},{displayName:"Ngày đi",name:"timeEnd",enableSorting:!1},{displayName:"",name:"delete",enableSorting:!1,enableFiltering:!1,width:100,enableCellEdit:!1,cellTemplate:'<div ><button style="margin-left: 10px; margin-top: 3px;" class="btn btn-xs btn-info" ng-click="grid.appScope.CheckHotel(row.entity.idHotel)"><span class="fa fa-check"><\/span><\/button><button style="margin-left: 10px; margin-top: 3px;" class="btn btn-xs btn-danger" ng-click="grid.appScope.DeleteOrder(row.entity.idHotel)"><span class="fa fa-bitbucket"><\/span><\/button><\/div>'}];n.gridOptions.paginationPageSizes=[10,25,50,75];n.gridOptions.paginationPageSize=25;n.gridOptions.enableFiltering=!0;n.gridOptions.enableRowSelection=!0;n.gridOptions.enableRowHeaderSelection=!1;n.gridOptions.multiSelect=!1;n.gridOptions.onRegisterApi=function(){};n.EditHotel=function(n){i.location.href="/Admin/Hotels/Create?idHotel="+n};n.DeleteHotel=function(i){var i=i;confirm("Bạn có chắc chắn muốn xóa?")&&t.delete("/API/HotelAPI/"+i).success(function(){t.get("/Hotels/GetAllHotelsNoChecked/").success(function(t){n.gridOptions.data=t});toastr.success("Thành công","Xóa")})};n.CheckHotel=function(i){t.get("/API/HotelAPI/"+i).success(function(r){n.Hotel={idHotel:r.idHotel,hoTen:r.hoTen,diaChi:r.diaChi,SDT:r.SDT,email:r.email,hotel:r.hotel,timeStart:r.timeStart,timeEnd:r.timeEnd,guestNumber:r.guestNumber,checked:1};t.put("/API/HotelAPI/"+i,n.Hotel).success(function(){toastr.success("Thành công","Đã xử lý");t.get("/Hotels/GetAllHotelsNoChecked/").success(function(t){n.gridOptions.data=t})}).error(function(){toastr.error("Thất bại","Đã xử lý")})})}});