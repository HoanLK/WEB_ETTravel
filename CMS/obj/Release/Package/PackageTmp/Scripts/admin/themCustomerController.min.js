myApp.controller("themCustomerController",function(n,t,i,r,u,f){n.Customer={};n.chooseImage=function(){var t=new CKFinder;t.selectActionFunction=function(t){n.Customer.image=t;n.$apply()};t.SelectFunction="ShowFileInfo";t.popup()};n.currentIdCustomer=f.getParameterByName("idCustomer");n.currentIdCustomer&&t.get("/API/CustomerAPI/"+n.currentIdCustomer).success(function(t){n.Customer={id:t.id,title:t.title,image:t.image,link:t.link}});n.saveCustomer=function(){n.currentIdCustomer?t.put("/API/CustomerAPI/"+n.Customer.id,n.Customer).success(function(){toastr.success("Thành công","Lưu khách hàng")}).error(function(){toastr.error("Thất bại","Thêm khách hàng")}):t.post("/API/CustomerAPI/",n.Customer).success(function(){toastr.success("Thành công","Thêm khách hàng");i.location.href="/Admin/Customers"}).error(function(){toastr.error("Thất bại","Thêm khách hàng")})};n.saveCustomerAndExit=function(){n.currentIdCustomer?t.put("/API/CustomerAPI/"+n.Customer.id,n.Customer).success(function(){i.location.href="/Admin/Customers"}).error(function(){toastr.error("Thất bại","Lưu khách hàng")}):t.post("/API/CustomerAPI/",n.Customer).success(function(){i.location.href="/Admin/Customers"}).error(function(){toastr.error("Thất bại","Thêm khách hàng")})};n.saveCustomerAndNew=function(){n.currentIdCustomer?t.put("/API/CustomerAPI/"+n.Customer.id,n.Customer).success(function(){i.location.href="/Admin/Customers/Create"}).error(function(){toastr.error("Thất bại","Lưu khách hàng")}):t.post("/API/CustomerAPI/",n.Customer).success(function(){i.location.href="/Admin/Customers/Create"}).error(function(){toastr.error("Thất bại","Thêm khách hàng")})};n.cancel=function(){i.location.href="/Admin/Customers"};n.changeTitle=function(){n.Customer.alias=Alias.genAlias(n.Customer.title)}});